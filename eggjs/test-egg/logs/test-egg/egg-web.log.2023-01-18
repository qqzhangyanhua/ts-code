2023-01-18 21:00:59,082 INFO 5841 [egg:logger] init all loggers with options: {"dir":"/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg","encoding":"utf8","env":"local","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":false,"outputJSON":false,"buffer":true,"appLogName":"test-egg-web.log","coreLogName":"egg-web.log","agentLogName":"egg-agent.log","errorLogName":"common-error.log","coreLogger":{"consoleLevel":"WARN"},"allowDebugAtProd":false,"enablePerformanceTimer":false,"enableFastContextLogger":false,"type":"application","localStorage":{"enabled":false}}
2023-01-18 21:00:59,082 INFO 5841 [egg-multipart] stream mode enable
2023-01-18 21:00:59,124 INFO 5841 [egg-static] starting static serve /public/ -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/app/public
2023-01-18 21:00:59,125 INFO 5841 [egg-security] use csrf middleware
2023-01-18 21:00:59,126 INFO 5841 [egg-security] use methodnoallow middleware
2023-01-18 21:00:59,126 INFO 5841 [egg-security] use noopen middleware
2023-01-18 21:00:59,127 INFO 5841 [egg-security] use nosniff middleware
2023-01-18 21:00:59,127 INFO 5841 [egg-security] use xssProtection middleware
2023-01-18 21:00:59,127 INFO 5841 [egg-security] use xframe middleware
2023-01-18 21:00:59,127 INFO 5841 [egg-security] use dta middleware
2023-01-18 21:00:59,127 INFO 5841 [egg-security] compose 7 middlewares into one security middleware
2023-01-18 21:00:59,130 INFO 5841 [egg:core] dump config after load, 2ms
2023-01-18 21:00:59,135 INFO 5841 [egg-watcher:application] watcher start success
2023-01-18 21:00:59,138 INFO 5841 egg start timeline:
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ [187ms] - #0 Process Start
                                ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ [97ms] - #1 Application Start
                                ▇ [4ms] - #2 Load Plugin
                                 ▇ [6ms] - #3 Load Config
                                 ▇ [0ms] - #4 Require(0) node_modules/.pnpm/egg-session@3.3.0/node_modules/egg-session/config/config.default.js
                                 ▇ [0ms] - #5 Require(1) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/config/config.default.js
                                 ▇ [0ms] - #6 Require(2) node_modules/.pnpm/egg-jsonp@2.0.0/node_modules/egg-jsonp/config/config.default.js
                                 ▇ [0ms] - #7 Require(3) node_modules/.pnpm/egg-onerror@2.2.0/node_modules/egg-onerror/config/config.default.js
                                 ▇ [0ms] - #8 Require(4) node_modules/.pnpm/egg-i18n@2.1.1/node_modules/egg-i18n/config/config.default.js
                                  ▇ [0ms] - #9 Require(5) node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/config/config.default.js
                                  ▇ [0ms] - #10 Require(6) node_modules/.pnpm/egg-schedule@4.0.0/node_modules/egg-schedule/config/config.default.js
                                  ▇ [1ms] - #11 Require(7) node_modules/.pnpm/egg-multipart@3.3.0/node_modules/egg-multipart/config/config.default.js
                                  ▇ [0ms] - #12 Require(8) node_modules/.pnpm/egg-development@2.7.0/node_modules/egg-development/config/config.default.js
                                  ▇ [0ms] - #13 Require(9) node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/config/config.default.js
                                  ▇ [0ms] - #14 Require(10) node_modules/.pnpm/egg-static@2.2.0/node_modules/egg-static/config/config.default.js
                                  ▇ [0ms] - #15 Require(11) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/config/config.default.js
                                  ▇ [1ms] - #16 Require(12) node_modules/.pnpm/egg@3.14.1/node_modules/egg/config/config.default.js
                                  ▇ [0ms] - #17 Require(13) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/config/config.local.js
                                  ▇ [1ms] - #18 Require(14) node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/config/config.local.js
                                  ▇ [0ms] - #19 Require(15) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/config/config.local.js
                                  ▇ [0ms] - #20 Require(16) node_modules/.pnpm/egg@3.14.1/node_modules/egg/config/config.local.js
                                  ▇ [5ms] - #21 Load extend/application.js
                                  ▇ [1ms] - #22 Require(17) node_modules/.pnpm/egg-session@3.3.0/node_modules/egg-session/app/extend/application.js
                                  ▇ [0ms] - #23 Require(18) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app/extend/application.js
                                  ▇ [1ms] - #24 Require(19) node_modules/.pnpm/egg-jsonp@2.0.0/node_modules/egg-jsonp/app/extend/application.js
                                   ▇ [1ms] - #25 Require(20) node_modules/.pnpm/egg-schedule@4.0.0/node_modules/egg-schedule/app/extend/application.js
                                   ▇ [1ms] - #26 Require(21) node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app/extend/application.js
                                   ▇ [0ms] - #27 Require(22) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/app/extend/application.js
                                   ▇ [1ms] - #28 Load extend/request.js
                                   ▇ [1ms] - #29 Require(23) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/request.js
                                   ▇ [2ms] - #30 Load extend/response.js
                                   ▇ [1ms] - #31 Require(24) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/response.js
                                    ▇ [7ms] - #32 Load extend/context.js
                                    ▇ [3ms] - #33 Require(25) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app/extend/context.js
                                    ▇ [0ms] - #34 Require(26) node_modules/.pnpm/egg-jsonp@2.0.0/node_modules/egg-jsonp/app/extend/context.js
                                    ▇ [0ms] - #35 Require(27) node_modules/.pnpm/egg-i18n@2.1.1/node_modules/egg-i18n/app/extend/context.js
                                    ▇ [3ms] - #36 Require(28) node_modules/.pnpm/egg-multipart@3.3.0/node_modules/egg-multipart/app/extend/context.js
                                     ▇ [0ms] - #37 Require(29) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/app/extend/context.js
                                     ▇ [0ms] - #38 Require(30) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/context.js
                                     ▇ [6ms] - #39 Load extend/helper.js
                                     ▇ [5ms] - #40 Require(31) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app/extend/helper.js
                                      ▇ [0ms] - #41 Require(32) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/helper.js
                                      ▇ [10ms] - #42 Load app.js
                                      ▇ [0ms] - #43 Require(33) node_modules/.pnpm/egg-session@3.3.0/node_modules/egg-session/app.js
                                      ▇ [0ms] - #44 Require(34) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app.js
                                      ▇ [4ms] - #45 Require(35) node_modules/.pnpm/egg-onerror@2.2.0/node_modules/egg-onerror/app.js
                                       ▇ [2ms] - #46 Require(36) node_modules/.pnpm/egg-i18n@2.1.1/node_modules/egg-i18n/app.js
                                       ▇ [0ms] - #47 Require(37) node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/app.js
                                       ▇ [1ms] - #48 Require(38) node_modules/.pnpm/egg-schedule@4.0.0/node_modules/egg-schedule/app.js
                                       ▇ [0ms] - #49 Require(39) node_modules/.pnpm/egg-multipart@3.3.0/node_modules/egg-multipart/app.js
                                       ▇ [0ms] - #50 Require(40) node_modules/.pnpm/egg-development@2.7.0/node_modules/egg-development/app.js
                                       ▇ [1ms] - #51 Require(41) node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app.js
                                        ▇ [0ms] - #52 Require(42) node_modules/.pnpm/egg-static@2.2.0/node_modules/egg-static/app.js
                                        ▇▇▇▇▇▇▇▇ [51ms] - #53 Before Start in node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/lib/init.js:15:14
                                          ▇ [1ms] - #54 Load Service
                                          ▇ [1ms] - #55 Load "service" to Context
                                          ▇▇▇▇▇ [31ms] - #56 Load Middleware
                                          ▇▇▇▇ [27ms] - #57 Load "middlewares" to Application
                                                ▇ [1ms] - #58 Load Controller
                                                ▇ [1ms] - #59 Load "controller" to Application
                                                ▇ [0ms] - #60 Load Router
                                                ▇ [1ms] - #61 Before Start in node_modules/.pnpm/egg-core@5.3.0/node_modules/egg-core/lib/egg.js:304:10
2023-01-18 21:00:59,138 INFO 5841 [egg:core] dump config after ready, 2ms
2023-01-18 21:07:51,846 INFO 6182 [egg:logger] init all loggers with options: {"dir":"/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg","encoding":"utf8","env":"local","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":false,"outputJSON":false,"buffer":true,"appLogName":"test-egg-web.log","coreLogName":"egg-web.log","agentLogName":"egg-agent.log","errorLogName":"common-error.log","coreLogger":{"consoleLevel":"WARN"},"allowDebugAtProd":false,"enablePerformanceTimer":false,"enableFastContextLogger":false,"type":"application","localStorage":{"enabled":false}}
2023-01-18 21:07:51,847 INFO 6182 [egg-multipart] stream mode enable
2023-01-18 21:07:51,886 INFO 6182 [egg-static] starting static serve /public/ -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/app/public
2023-01-18 21:07:51,887 INFO 6182 [egg-security] use csrf middleware
2023-01-18 21:07:51,888 INFO 6182 [egg-security] use methodnoallow middleware
2023-01-18 21:07:51,889 INFO 6182 [egg-security] use noopen middleware
2023-01-18 21:07:51,889 INFO 6182 [egg-security] use nosniff middleware
2023-01-18 21:07:51,890 INFO 6182 [egg-security] use xssProtection middleware
2023-01-18 21:07:51,890 INFO 6182 [egg-security] use xframe middleware
2023-01-18 21:07:51,890 INFO 6182 [egg-security] use dta middleware
2023-01-18 21:07:51,890 INFO 6182 [egg-security] compose 7 middlewares into one security middleware
2023-01-18 21:07:51,894 INFO 6182 [egg:core] dump config after load, 2ms
2023-01-18 21:07:51,900 INFO 6182 [egg-watcher:application] watcher start success
2023-01-18 21:07:51,903 INFO 6182 egg start timeline:
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ [189ms] - #0 Process Start
                                ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ [101ms] - #1 Application Start
                                ▇ [6ms] - #2 Load Plugin
                                 ▇ [6ms] - #3 Load Config
                                 ▇ [0ms] - #4 Require(0) config/config.default.js
                                 ▇ [1ms] - #5 Require(1) node_modules/.pnpm/egg-session@3.3.0/node_modules/egg-session/config/config.default.js
                                 ▇ [0ms] - #6 Require(2) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/config/config.default.js
                                 ▇ [0ms] - #7 Require(3) node_modules/.pnpm/egg-jsonp@2.0.0/node_modules/egg-jsonp/config/config.default.js
                                 ▇ [0ms] - #8 Require(4) node_modules/.pnpm/egg-onerror@2.2.0/node_modules/egg-onerror/config/config.default.js
                                 ▇ [1ms] - #9 Require(5) node_modules/.pnpm/egg-i18n@2.1.1/node_modules/egg-i18n/config/config.default.js
                                  ▇ [0ms] - #10 Require(6) node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/config/config.default.js
                                  ▇ [0ms] - #11 Require(7) node_modules/.pnpm/egg-schedule@4.0.0/node_modules/egg-schedule/config/config.default.js
                                  ▇ [0ms] - #12 Require(8) node_modules/.pnpm/egg-multipart@3.3.0/node_modules/egg-multipart/config/config.default.js
                                  ▇ [0ms] - #13 Require(9) node_modules/.pnpm/egg-development@2.7.0/node_modules/egg-development/config/config.default.js
                                  ▇ [0ms] - #14 Require(10) node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/config/config.default.js
                                  ▇ [0ms] - #15 Require(11) node_modules/.pnpm/egg-static@2.2.0/node_modules/egg-static/config/config.default.js
                                  ▇ [0ms] - #16 Require(12) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/config/config.default.js
                                  ▇ [0ms] - #17 Require(13) node_modules/.pnpm/egg@3.14.1/node_modules/egg/config/config.default.js
                                  ▇ [0ms] - #18 Require(14) config/config.default.js
                                  ▇ [0ms] - #19 Require(15) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/config/config.local.js
                                  ▇ [0ms] - #20 Require(16) node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/config/config.local.js
                                  ▇ [0ms] - #21 Require(17) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/config/config.local.js
                                  ▇ [1ms] - #22 Require(18) node_modules/.pnpm/egg@3.14.1/node_modules/egg/config/config.local.js
                                  ▇ [5ms] - #23 Load extend/application.js
                                  ▇ [2ms] - #24 Require(19) node_modules/.pnpm/egg-session@3.3.0/node_modules/egg-session/app/extend/application.js
                                  ▇ [0ms] - #25 Require(20) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app/extend/application.js
                                  ▇ [1ms] - #26 Require(21) node_modules/.pnpm/egg-jsonp@2.0.0/node_modules/egg-jsonp/app/extend/application.js
                                   ▇ [1ms] - #27 Require(22) node_modules/.pnpm/egg-schedule@4.0.0/node_modules/egg-schedule/app/extend/application.js
                                   ▇ [0ms] - #28 Require(23) node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app/extend/application.js
                                   ▇ [1ms] - #29 Require(24) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/app/extend/application.js
                                   ▇ [2ms] - #30 Load extend/request.js
                                   ▇ [0ms] - #31 Require(25) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/request.js
                                   ▇ [1ms] - #32 Load extend/response.js
                                   ▇ [1ms] - #33 Require(26) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/response.js
                                    ▇ [7ms] - #34 Load extend/context.js
                                    ▇ [3ms] - #35 Require(27) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app/extend/context.js
                                    ▇ [0ms] - #36 Require(28) node_modules/.pnpm/egg-jsonp@2.0.0/node_modules/egg-jsonp/app/extend/context.js
                                    ▇ [0ms] - #37 Require(29) node_modules/.pnpm/egg-i18n@2.1.1/node_modules/egg-i18n/app/extend/context.js
                                    ▇ [2ms] - #38 Require(30) node_modules/.pnpm/egg-multipart@3.3.0/node_modules/egg-multipart/app/extend/context.js
                                     ▇ [1ms] - #39 Require(31) node_modules/.pnpm/egg-view@2.1.3/node_modules/egg-view/app/extend/context.js
                                     ▇ [0ms] - #40 Require(32) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/context.js
                                     ▇ [7ms] - #41 Load extend/helper.js
                                     ▇ [5ms] - #42 Require(33) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app/extend/helper.js
                                      ▇ [0ms] - #43 Require(34) node_modules/.pnpm/egg@3.14.1/node_modules/egg/app/extend/helper.js
                                      ▇ [10ms] - #44 Load app.js
                                      ▇ [0ms] - #45 Require(35) node_modules/.pnpm/egg-session@3.3.0/node_modules/egg-session/app.js
                                      ▇ [0ms] - #46 Require(36) node_modules/.pnpm/egg-security@2.11.0/node_modules/egg-security/app.js
                                      ▇ [4ms] - #47 Require(37) node_modules/.pnpm/egg-onerror@2.2.0/node_modules/egg-onerror/app.js
                                       ▇ [3ms] - #48 Require(38) node_modules/.pnpm/egg-i18n@2.1.1/node_modules/egg-i18n/app.js
                                       ▇ [1ms] - #49 Require(39) node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/app.js
                                       ▇ [0ms] - #50 Require(40) node_modules/.pnpm/egg-schedule@4.0.0/node_modules/egg-schedule/app.js
                                       ▇ [0ms] - #51 Require(41) node_modules/.pnpm/egg-multipart@3.3.0/node_modules/egg-multipart/app.js
                                       ▇ [1ms] - #52 Require(42) node_modules/.pnpm/egg-development@2.7.0/node_modules/egg-development/app.js
                                        ▇ [0ms] - #53 Require(43) node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app.js
                                        ▇ [0ms] - #54 Require(44) node_modules/.pnpm/egg-static@2.2.0/node_modules/egg-static/app.js
                                        ▇▇▇▇▇▇▇▇ [52ms] - #55 Before Start in node_modules/.pnpm/egg-watcher@3.1.1/node_modules/egg-watcher/lib/init.js:15:14
                                           ▇ [1ms] - #56 Load Service
                                           ▇ [1ms] - #57 Load "service" to Context
                                           ▇▇▇▇ [27ms] - #58 Load Middleware
                                           ▇▇▇ [23ms] - #59 Load "middlewares" to Application
                                               ▇ [1ms] - #60 Load Controller
                                               ▇ [1ms] - #61 Load "controller" to Application
                                               ▇ [1ms] - #62 Load Router
                                               ▇ [0ms] - #63 Require(45) app/router.js
                                               ▇ [4ms] - #64 Before Start in node_modules/.pnpm/egg-core@5.3.0/node_modules/egg-core/lib/egg.js:304:10
2023-01-18 21:07:51,903 INFO 6182 [egg:core] dump config after ready, 2ms
2023-01-18 21:09:18,726 WARN 6182 [ClusterClient:Watcher] follower closed, and try to init it again
2023-01-18 21:18:11,196 WARN 6182 [ClusterClient:Watcher] follower closed, and try to init it again
2023-01-18 21:34:54,329 WARN 6182 [ClusterClient:Watcher] follower closed, and try to init it again
2023-01-18 21:51:24,301 WARN 6182 [TCPBase] socket is closed by other side while there were still unhandled data in the socket buffer
2023-01-18 21:51:24,302 WARN 6182 [ClusterClient:Watcher] follower closed, and try to init it again
2023-01-18 22:08:26,274 WARN 6182 [TCPBase] socket is closed by other side while there were still unhandled data in the socket buffer
2023-01-18 22:08:26,274 WARN 6182 [ClusterClient:Watcher] follower closed, and try to init it again
2023-01-18 23:59:59,990 INFO 6182 [-/127.0.0.1/-/3ms SCHEDULE /__schedule?path=/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app/schedule/clean_log.js&type=worker&cron=0%200%20*%20*%20*] [egg-logrotator] clean all log before 31 days
2023-01-19 00:00:00,989 INFO 6182 [-/127.0.0.1/-/2ms SCHEDULE /__schedule?path=/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app/schedule/rotate_by_file.js&type=worker&cron=1%200%200%20*%20*%20*] [egg-logrotator] broadcast log-reload
2023-01-19 00:00:00,989 INFO 6182 [-/127.0.0.1/-/2ms SCHEDULE /__schedule?path=/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/node_modules/.pnpm/egg-logrotator@3.1.0/node_modules/egg-logrotator/app/schedule/rotate_by_file.js&type=worker&cron=1%200%200%20*%20*%20*] [egg-logrotator] rotate files success by DayRotator, files ["/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/common-error.log -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/common-error.log.2023-01-18","/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/test-egg-web.log -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/test-egg-web.log.2023-01-18","/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/egg-web.log -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/egg-web.log.2023-01-18","/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/egg-schedule.log -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/egg-schedule.log.2023-01-18","/Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/egg-agent.log -> /Users/zhangyanhua/Desktop/workcode/ts-code/eggjs/test-egg/logs/test-egg/egg-agent.log.2023-01-18"]
